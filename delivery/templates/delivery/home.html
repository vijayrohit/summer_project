{% extends "delivery/base.html" %}
{% load static %}
{% block content %}
    {% if not user.is_authenticated %}
        <header class="masthead bg-primary text-white text-center" id="#home">
            <div class="container d-flex align-items-center flex-column">

                <!-- Masthead Heading-->
                <h1 class="masthead-heading text-uppercase mb-0">Delivery App Prototype</h1>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Masthead Subheading-->
                <p class="masthead-subheading font-weight-light mb-0">Set - Order - Delivered</p>
            </div>
        </header>
    {% endif %}
        {% if user.is_authenticated%}
        {% if not posts %}
        <section class="page-section bg-primary text-white mb-0" id="orders">
          <div class="container">
                <h2 class="page-section-heading text-center text-uppercase text-white">Orders</h2>
                <h3>No Orders as of now!</h3>
          </div>
        </section>
        {% else %}
        <section class="page-section bg-primary text-white mb-0" id="orders" style="padding-bottom: 300px">
          <div class="container">
                <h2 class="page-section-heading text-center text-uppercase text-white">Orders</h2>
                <br>
                <table class="table table-striped table-responsive-md btn-table">
                  <thead>
                    <tr>
                      <th>Order ID</th>
                      <th>Customer Name</th>
                      <th>Order Source</th>
                      <th>House Account</th>
                      <th>Catering Date</th>
                      <th>Address</th>
                      {% if user.is_staff %}
                      <th>Update</th>
                      <th>Delivery</th>
                      {% endif %}
                    </tr>
                  </thead>
                <tbody>
                    {% for post in posts %}
                    <tr>
                      <td>{{ post.id }}</td>
                      <td><a href="{% url 'post-detail' post.id %}" style="color: black;"> {{ post.name }} </a></td>
                      <td>{{ post.orderSource }}</td>
                      <td>{{ post.houseAccount }}</td>
                      <td>{{ post.cateringDate }}</td>
                      <td>{{ post.address }}</td>
                      {% if user.is_staff %}
                      <td>
                        <a class="btn btn-secondary btn-sm mt-1 mb-1" href="{% url 'post-update' post.id %}">Update</a>
                      </td>
                      <td>
                        <a class="btn btn-danger btn-sm mt-1 mb-1" href="{% url 'post-delete' post.id %}">Delivered</a>
                      </td>
                    {% endif %}
                    </tr>
                    {% endfor %}
                </tbody>
                </table>
          </div>
        </section>
      {% endif %}
    {% endif %}
    {% if not user.is_authenticated %}
        <section class="page-section bg-primary text-white mb-0" id="register">
            <div class="container">
                <!-- About Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-white">Employee Register</h2>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- About Section Content-->
                <div class="row">
                    <div class="col-lg-4 ml-auto"><p class="lead">Get food delivered to your doorstep now!</p></div>
                    <div class="col-lg-4 mr-auto"><p class="lead">Make sure you are registered! If not register right away</p></div>
                </div>
                <!-- About Section Button-->
                <div class="text-center mt-4">
                    <a class="btn btn-xl btn-outline-light" href="{% url 'register' %}">
                        Register Now!
                    </a>
                </div>
            </div>
        </section>
    {% endif %}
{% endblock content %}